(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{105:function(t,e,o){},107:function(t,e,o){},112:function(t,e,o){},113:function(t,e,o){},114:function(t,e,o){},115:function(t,e,o){},119:function(t,e,o){},120:function(t,e,o){},121:function(t,e,o){},122:function(t,e,o){},123:function(t,e,o){},124:function(t,e,o){"use strict";o.r(e);var i=o(0),c=o.n(i),n=o(52),l=o.n(n),a=o(15),d=o(89),s=o(144),r=o(62),u=o(14),p=o(7),j=o(152),b=o(146),O=o(145),m=o(149),f=o(148),y=o(151),_=o(86),h=o.n(_),x=o(12),v=o.n(x),I=o(28),T="GET_TODO",E="COMPLETED_TOGGLE",g="REMOVE_TASK",N="EDIT_TASK_TOGGLE",k="CHANGE_TASK_TITLE",L="ADD_TASK",D="ADD_LIST",C="REMOVE_LIST",S="EDIT_LIST_TOGGLE",A="CHANGE_LIST_NAME",w="DROP_IN_TODO",B="DROP_IN_COMPLETED",R="SORTABLE",G=function(t){return{type:N,payload:t}},M=o(48),K=o.n(M),P=(o(105),o(1)),V=function(t){var e=t.todo,o=t.index,i=Object(a.b)(),c=function(){i(G(e))};return e.edit?Object(P.jsx)("input",{className:K()({todo__onEdit:!0,todo__onEdit_completed:e.completed}),onChange:function(t){var o;i((o={title:t.target.value,todo:e},{type:k,payload:o}))},onKeyUp:function(t){13===t.keyCode&&c()},onBlur:c,type:"text",value:e.title,autoFocus:!0}):Object(P.jsxs)("h5",{className:K()({todo__title:!0,todo__title_completed:e.completed}),children:[e.title,", index:",o]})},X="TODO_ITEM",F="COMPLETED_ITEM",U=(o(107),function(t){var e=t.todo,o=t.index,c=Object(a.b)(),n=Object(i.useRef)(null),l=Object(O.a)((function(){return{type:e.completed?F:X,item:{todo:e,index:o},collect:function(t){return{isDragging:t.isDragging()}}}}),[]),d=Object(p.a)(l,2),s=d[0].isDragging,r=d[1],u=Object(b.a)({accept:e.completed?F:X,collect:function(t){return{isOver:t.isOver()}},hover:function(t,e){var i;if(n.current){var l=t.index,a=o;if(l!==a){var d=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect(),s=(d.bottom-d.top)/2,r=e.getClientOffset().y-d.top;l<a&&r<s||l>a&&r>s||(c(function(t,e,o){return{type:R,payload:{todo:t,hoverIndex:o,dragIndex:e}}}(t.todo,l,a)),t.index=a)}}}}),j=Object(p.a)(u,2),_=s?.4:1,x=j[0].isOver?"rgb(188,251,255)":"";return r((0,j[1])(n)),Object(P.jsxs)(m.a,{ref:n,onDoubleClick:function(){c(G(e))},className:"todo__list-item",style:{opacity:_,background:x},children:[Object(P.jsxs)("div",{className:"todo__check",children:[Object(P.jsx)(f.a,{id:e.id+"",onChange:function(){c(function(t){return{type:E,payload:t}}(e))},className:"todo__input",type:"checkbox",checked:e.completed}),Object(P.jsx)(V,{todo:e,index:o})]}),Object(P.jsx)(y.a,{edge:"end","aria-label":"delete",onClick:function(){c({type:g,payload:e})},children:Object(P.jsx)(h.a,{})})]})}),q=o(4),H=o(63),J=(o(112),function(t){var e=t.onClick,o=t.isAddBtn,i=t.isListBtn,c=t.isLinkBtn,n=t.isRemoveBtn,l=t.children;return Object(P.jsx)("button",{onClick:e,className:K()({btn:!0,add:o,remove:n,list:i,linkRemove:c}),children:l})}),z=(o(113),function(t){var e=t.listId,o=Object(a.b)(),i=Object(H.a)(),c=i.register,n=i.handleSubmit;return Object(P.jsxs)("form",{className:"todo__form",onSubmit:n((function(t){var i,c=t.title;o((i=function(t,e){return{listId:e,edit:!1,completed:!1,title:t,id:Date.now()}}(c,e),{type:L,payload:i}))})),children:[Object(P.jsx)("input",Object(q.a)(Object(q.a)({className:"todo__new-task"},c("title",{required:!0})),{},{placeholder:"title"})),Object(P.jsx)(J,{type:"submit",isAddBtn:!0,children:"Add Task"})]})}),Q=(o(114),function(t){var e,o,i=t.numList,c=Object(a.c)((function(t){return t.todo[i]})),n=Object(a.b)(),l=Object(b.a)({accept:F,drop:function(t){return n(function(t){return{type:w,payload:t}}(t))},collect:function(t){return{isOverTodo:t.isOver(),canDrop:t.canDrop()}}}),d=Object(p.a)(l,2),s=(d[0].isOverTodo,d[1]),r=Object(b.a)({accept:X,drop:function(t){return n(function(t){return{type:B,payload:t}}(t))},collect:function(t){return{isOverCompleted:!!t.isOver()}}}),u=Object(p.a)(r,2),O=(u[0].isOverCompleted,u[1]);return Object(P.jsxs)("div",{className:"todo body",children:[Object(P.jsx)("h2",{className:"todo__header",children:c.title}),Object(P.jsx)(j.a,{ref:s,className:"todo__todo list",children:null===(e=c.list.todo)||void 0===e?void 0:e.map((function(t,e){return Object(P.jsx)(U,{todo:t,index:e},t.id)}))}),Object(P.jsx)(j.a,{ref:O,className:"todo__completed list",children:null===(o=c.list.completed)||void 0===o?void 0:o.map((function(t,e){return Object(P.jsx)(U,{todo:t,index:e},t.id)}))}),Object(P.jsx)(z,{listId:i})]})}),W=function(t){var e=t.numList;return Object(P.jsx)(Q,{numList:e})},Y=o(75),Z=[{title:"important",removable:!1,listId:0,list:{todo:[{listId:0,id:1,title:"0",completed:!1,edit:!1},{listId:0,id:2,title:"1",completed:!1,edit:!1},{listId:0,id:3,title:"2",completed:!1,edit:!1},{listId:0,id:4,title:"3",completed:!1,edit:!1}],completed:[{listId:0,id:5,title:"et porro tempora",completed:!0,edit:!1}]}},{title:"todo list",removable:!1,listId:1,list:{todo:[],completed:[]}}],$=(o(115),function(t){var e=t.onAddList,o=t.placeholder,i=t.newListToggle,c=Object(H.a)(),n=c.register,l=c.handleSubmit;return Object(P.jsxs)("form",{className:"links__form",onSubmit:l((function(t){var o=t.title;e(o),i()})),children:[Object(P.jsx)("input",Object(q.a)(Object(q.a)({className:"links__new-task",placeholder:o},n("title",{required:!0,onBlur:i})),{},{autoFocus:!0})),Object(P.jsx)(J,{type:"submit",isListBtn:!0,children:"+"})]})}),tt=function(t){var e=t.list,o=t.onEditList,i=t.dispatch;return Object(P.jsx)("form",{className:"links__edit-form",onSubmit:o,children:Object(P.jsx)("input",{className:"links__edit-name",type:"text",onChange:function(t){var o;i((o={newTitle:t.target.value,listId:e.listId},{type:A,payload:o}))},value:e.title,onBlur:o,autoFocus:!0})})},et=function(t){var e=t.list,o=t.dispatch;return Object(P.jsxs)(r.b,{className:"links__item",to:"".concat(e.title.replace(" ","_")).concat(e.listId),children:[e.title,e.list.todo.length?Object(P.jsx)("span",{children:e.list.todo.length}):"",e.removable&&Object(P.jsx)(J,{isRemoveBtn:!0,isLinkBtn:!0,onClick:function(){var t;o((t=e.listId,{type:C,payload:t}))},children:"+"})]})},ot=(o(119),function(t){var e=t.list,o=Object(a.b)(),i=function(){var t;o((t=e.listId,{type:S,payload:t}))};return Object(P.jsx)("li",{className:"links__li",onDoubleClick:i,children:e.removable&&e.edit?Object(P.jsx)(tt,{list:e,onEditList:i,dispatch:o}):Object(P.jsx)(et,{list:e,dispatch:o})},e.listId)}),it=(o(120),function(){var t=Object(i.useState)(!1),e=Object(p.a)(t,2),o=e[0],c=e[1],n=Object(a.c)((function(t){return t.todo})),l=Object(a.b)(),d=function(){c(!o)};return Object(P.jsx)("nav",{className:"links",children:Object(P.jsxs)("ul",{className:"links__list",children:[n.map((function(t){return Object(P.jsx)(ot,{list:t},t.listId)})),o?Object(P.jsx)("li",{children:Object(P.jsx)($,{onAddList:function(t){var e={title:t,removable:!0,listId:n.length,edit:!1,oldTitle:t,list:{todo:[],completed:[]}};l({type:D,payload:e})},newListToggle:d})}):Object(P.jsxs)("li",{className:"list-add",onClick:d,children:[Object(P.jsx)("span",{className:"list-add__plus",children:"+"}),Object(P.jsx)("p",{className:"list-add__title",children:"Add List"})]})]})})}),ct=(o(121),function(){var t=Object(a.c)((function(t){return t.todo}));return Object(P.jsx)(r.a,{children:Object(P.jsxs)("div",{className:"navigation",children:[Object(P.jsx)(it,{}),Object(P.jsx)(u.c,{children:t.map((function(t,e){return Object(P.jsx)(u.a,{path:"/".concat(t.title.replace(" ","_")).concat(e),children:Object(P.jsx)(W,{numList:e})},e)}))})]})})}),nt=function(){return Object(P.jsx)(ct,{})};o(122);var lt=function(){var t=Object(a.b)();return Object(i.useEffect)((function(){t(function(){var t=Object(I.a)(v.a.mark((function t(e){var o,i,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],i=[],t.next=4,fetch("".concat("https://jsonplaceholder.typicode.com","/todos?_limit=5"));case 4:return c=t.sent,t.next=7,c.json();case 7:t.sent.forEach((function(t){t.edit=!1,t.listId=1,t.completed?o.push(t):i.push(t)})),e({type:T,payload:{todo:i,completed:o}});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(P.jsx)(s.a,{backend:d.a,children:Object(P.jsx)("div",{className:"App",children:Object(P.jsx)(nt,{})})})},at=o(38),dt=o(88),st=Object(at.b)({todo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return t.map((function(t,o){return 1===o?Object(q.a)(Object(q.a)({},t),{},{list:Object(q.a)(Object(q.a)({},t.list),{},{todo:t.list.todo.concat(e.payload.todo),completed:t.list.completed.concat(e.payload.completed)})}):t}));case E:return t.map((function(o,i){return e.payload.listId!==i?o:Object(q.a)(Object(q.a)({},o),{},{list:{todo:e.payload.completed?t[i].list.todo.concat([Object(q.a)(Object(q.a)({},e.payload),{},{completed:!e.payload.completed})]):t[i].list.todo.filter((function(t){return t.id!==e.payload.id})),completed:e.payload.completed?t[i].list.completed.filter((function(t){return t.id!==e.payload.id})):t[i].list.completed.concat([Object(q.a)(Object(q.a)({},e.payload),{},{completed:!e.payload.completed})])}})}));case g:return t.map((function(o,i){return e.payload.listId!==i?o:Object(q.a)(Object(q.a)({},o),{},{list:{todo:e.payload.completed?t[i].list.todo:t[i].list.todo.filter((function(t){return t.id!==e.payload.id})),completed:e.payload.completed?t[i].list.completed.filter((function(t){return t.id!==e.payload.id})):t[i].list.completed}})}));case N:return t.map((function(o,i){return e.payload.listId!==i?o:Object(q.a)(Object(q.a)({},o),{},{list:{todo:t[i].list.todo.map((function(t){return t.id===e.payload.id||t.edit?Object(q.a)(Object(q.a)({},t),{},{title:t.title?t.title:t.oldTitle,edit:!t.edit,oldTitle:t.title}):t})),completed:t[i].list.completed.map((function(t){return t.id===e.payload.id||t.edit?Object(q.a)(Object(q.a)({},t),{},{title:t.title?t.title:t.oldTitle,edit:!t.edit,oldTitle:t.title}):t}))}})}));case k:return t.map((function(o,i){return e.payload.todo.listId!==i?o:Object(q.a)(Object(q.a)({},o),{},{list:{todo:t[i].list.todo.map((function(t){return t.id!==e.payload.todo.id?t:Object(q.a)(Object(q.a)({},t),{},{title:e.payload.title})})),completed:t[i].list.completed.map((function(t){return t.id!==e.payload.todo.id?t:Object(q.a)(Object(q.a)({},t),{},{title:e.payload.title})}))}})}));case L:return t.map((function(t,o){return e.payload.listId!==o?t:Object(q.a)(Object(q.a)({},t),{},{list:Object(q.a)(Object(q.a)({},t.list),{},{todo:t.list.todo.concat([e.payload])})})}));case D:return t.concat([e.payload]);case C:return t.filter((function(t){return t.listId!==e.payload}));case S:return t.map((function(t){return t.listId!==e.payload?t:Object(q.a)(Object(q.a)({},t),{},{title:t.title||t.oldTitle,edit:!t.edit,oldTitle:t.title})}));case A:return t.map((function(t){return t.listId!==e.payload.listId?t:Object(q.a)(Object(q.a)({},t),{},{title:e.payload.newTitle})}));case w:return t.map((function(t){return t.listId!==e.payload.todo.listId?t:Object(q.a)(Object(q.a)({},t),{},{list:Object(q.a)(Object(q.a)({},t.list),{},{todo:t.list.todo.concat([Object(q.a)(Object(q.a)({},e.payload.todo),{},{completed:!1})]),completed:t.list.completed.filter((function(t){return t.id!==e.payload.todo.id}))})})}));case B:return t.map((function(t){return t.listId!==e.payload.todo.listId?t:Object(q.a)(Object(q.a)({},t),{},{list:Object(q.a)(Object(q.a)({},t.list),{},{todo:t.list.todo.filter((function(t){return t.id!==e.payload.todo.id})),completed:t.list.completed.concat([Object(q.a)(Object(q.a)({},e.payload.todo),{},{completed:!0})])})})}));case R:return t.map((function(t){return t.listId!==e.payload.todo.listId?t:Object(q.a)(Object(q.a)({},t),{},{list:Object(q.a)(Object(q.a)({},t.list),{},{todo:e.payload.todo.completed?t.list.todo:Object(Y.a)(t.list.todo,e.payload.dragIndex,e.payload.hoverIndex),completed:e.payload.todo.completed?Object(Y.a)(t.list.completed,e.payload.dragIndex,e.payload.hoverIndex):t.list.completed})})}));default:return t}}}),rt=Object(at.d)(st,Object(at.c)(Object(at.a)(dt.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o(123);l.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(a.a,{store:rt,children:Object(P.jsx)(lt,{})})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.8260fea9.chunk.js.map